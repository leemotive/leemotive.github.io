---
title: "javascript中一些不常用的实用功能"
author: 柚子816
toc: true
comment: true
date: 2016-12-06 23:29:00
tags: 
  - JavaScript
keywords:
  - 实用功能
  - ~
category: 前端
cover: 
---

差不多两个月的996啊，一个月多月没有写点什么了，今天记录一点javascript中用起来方便，却又不怎么常用的用法

1. ~indexOf()

   一般来讲，判断一个字符串中是否包含一个子串，可以用 indexOf(subString) > -1 来表示

   我们也可以用 ~indexOf(subString) 来表示

   indexOf() 返回-1表示没有，返回0及大于0数表示存在 ~-1的结果是0，在if里面相当于false

   0及大于0的 通过~运算之后是不为0的数字，在if 里面相当于true

2. ~~

   连续两次按位取反，可以去除小数位，保留整数，在正数范围相当于Math.floor 在负数范围相当于Math.ceil

   类似的运算还有 n<<0 n>>0 n|0

   当然用这几种算法取整有个局限性就是存在数字范围就在就32位二进制数范围内方可使用，也就是数字要在 -2147483648 ~ 2147483647
   之间，这也是正负20多亿的数字了，一般情况下是没有问题的了

3. 这是个问题，让我有点凌乱

   toFixed的方法是把Number四舍五入为指定小数位数的数字

   Math.round方法可把数字舍入为最接近的整数

   但是对于 -4.5.toFixed(0) 和Math.round(-4.5) 却是一个返回-5，一个返回-4。

   这是为什么，让我很凌乱，哪位给解释一下



